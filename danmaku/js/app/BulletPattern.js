define(["require"],function(a){var b=Class.extend({init:function(a){var b=this;a=a||{},this.bullets=[],this.frame=0,this.isEnabled=!0,this.cooldown=0,_.extend(this,a),a.update&&(this.update=function(c,d,e){++this.frame,this.isEnabled&&!this.cooldown&&a.update(c,d,e,b),b.cooldown>0&&--b.cooldown})},fire:function(a,b){var c=this;b.add(a),c.bullets.push(a),a.on("death",function(a){c.bullets.splice(c.bullets.indexOf(a),1)})},update:function(a,b,c){++this.frame}});return b})