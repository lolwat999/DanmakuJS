define(["require","lib/Three","./Entity"],function(a){var b=a("lib/Three"),c=a("./Entity"),d=c.extend({type:"bullet",canCollide:!0,init:function(a){this.time=0,this._super(a)},set:function(a){this._super(a),this.life=a.life||100,this.model.blending=a.blending||b.AdditiveBlending,this.speedType=a.speedType||c.speedTypes.POLAR,this.angleToRotation=a.angleToRotation||!0,this.owner=a.owner||null,this.angleOffset=a.angleOffset||270},expired:function(){return this.time>this.life},dying:function(){var a=this.model.opacity-.01;a<0&&(this.alive=!1),this.model.opacity=a<0?0:a,this.disableTasks=!0,this.canCollide=!1},update:function(a){this.outOfBounds(500)&&(this.alive=!1),this.alive&&(this.time+=a/.016666,this.time>this.life&&this.dying(),this._super(a))},collides:function(a){return a instanceof this.owner.constructor?!1:this._super(a)},getType:function(){return this.owner&&this.owner.type!==this.type?this.type+":"+this.owner.type:this.type}});return d})