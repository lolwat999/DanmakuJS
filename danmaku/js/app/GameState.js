define(["require"],function(a){var b=Class.extend({init:function(a,b,c,d){this.core=a,this.background=b||null,this.foreground=c||null,this.entities=[]},update:function(a){var b,c=this.entities;for(var d=0,e=c.length;d<e;++d)b=c[d],b.update(a),b.alive||(this.remove(b),e=c.length,--d)},updateAll:function(a){this.background&&this.background.updateAll(a),this.update&&this.update(a),this.foreground&&this.foreground.updateAll(a)},renderAll:function(a){this.background&&this.background.renderAll(a),this.render&&this.render(a),this.foreground&&this.foreground.renderAll(a)},add:function(a){a.state=this,this.entities.push(a)},remove:function(a){a.state=null,this.entities.splice(this.entities.indexOf(a),1)},clear:function(){this.entities=[]},getSize:function(){var a=this.core.container,b=a.width(),c=a.height();return{width:b,height:c}},onResized:function(a,b){},onActivate:function(){},onDeactivate:function(){}});return b})