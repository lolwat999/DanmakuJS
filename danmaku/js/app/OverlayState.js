define(["require","lib/Three","./GameState","./Entity"],function(a){var b=a("lib/Three"),c=a("./GameState"),d=a("./Entity"),e=c.extend({init:function(a,c,d,e,f){this._super(a,c,d);var g=this.core.container.width(),h=this.core.container.height();this.scene=f||new b.Scene,this.camera=e||new b.PerspectiveCamera(60,g/h,1,5e3),this.camera.position.z=640,this.scene.add(this.camera)},add:function(a){this._super(a),a.model&&this.scene.add(a.model)},remove:function(a){this._super(a),a.model&&this.scene.remove(a.model)},render:function(a){a.autoClear=!1,a.render(this.scene,this.camera),a.autoClear=!0},onResized:function(a,b){this.camera.aspect=a/b,this.camera.updateProjectionMatrix()}});return e})