define(["require","./GameScene","./Bullet"],function(a){var b=a("./GameScene"),c=a("./Bullet"),d=b.extend({init:function(a,b,c){this._super(a,b,c),this.boxes=[],this.angle=0},addBox:function(){var a=this.angle,b=this.core.container,d=b.width(),e=b.height(),f=new c({x:d/2,y:e/2,angle:a,life:500,speed:3,image:"bullets/arrow.png"});this.angle=(this.angle+16)%360,this.boxes.push(f),this.scene.add(f.model)},update:function(a){var b=this.scene,c=this.boxes,d=[];for(var e=0;e<2;++e)this.addBox();c.forEach(function(b){b.update(a),b.alive||d.push(b)}),d.forEach(function(a){c.splice(c.indexOf(a),1)})}});return d})